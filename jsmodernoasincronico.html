<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form action="">
        <label for="identificacion">Identificaci贸n</label>
        <input type="text" name="di" id="di">
            <br>
        <label for=""> Nombre</label>
        <input type="text" name="nombre" id="nombre">
            <br>
        <label for="">salario</label>
        <input type="text" name="salario" id="salario">
            <br>
            <div id="mensaje"></div>
    </form>

    <script>
        let usuarios = [
            {user:"tgil", nombre:"Tulio Gil", correo:"tgil@gmail.com"},
            {user:"wrodas", nombre:"Walter Rodas", correo:"wrodas@gmail.com"},
            {user:"obonilla", nombre:"Otilia Bonilla", correo:"obonilla@gmail.com"},
            {user:"lzuluaga", nombre:"Luisa Zuluaga", correo:"lzuluaga@gmail.com"},
            {user:"macosta", nombre:"Maria Acosta", correo:"macosta@gmail.com"}
        ]
        //Generaci贸n de la promesa asinc贸nica para listar el arreglo de objetos
        function fpusuarios(arrobj){
            return new Promise((resolve, reject)=>{
                document.getElementById(`mensaje`).innerHTML = "Recuperando los usuarios ...";
                setTimeout(()=>{
                    let mstate = true;
                    if(mstate){
                        resolve(arrobj)
                    }else{
                        reject("No hay usuarios que mostrar")
                    }
                },4000)
            })
        }

        //ejecuci贸n
        fpusuarios(usuarios)
            .then((data)=>{
                let mihtml = `<table border = 1>
                                <th>Usuario</th>
                                <th>Nombre</th>                    
                                <th>Email</th>                    
                    `
                    // for(let p = 0; p < data.length; p++){
                    //     mihtml += `<tr>
                    //                     <td>${data[p].user}</td>
                    //                     <td>${data[p].nombre}</td>
                    //                     <td>${data[p].correo}</td>
                    //     `
                    // }
                    for(reg of data){
                        mihtml += `<tr>
                                        <td>${reg.user}</td>
                                        <td>${reg.nombre}</td>
                                        <td>${reg.correo}</td>
                        `
                    }
                    mihtml += `</table>`
                    document.getElementById(`mensaje`).innerHTML = mihtml
            })
            .catch((error)=>{
                document.getElementById(`mensaje`).innerHTML=error
            })
        
    </script>
</body>
</html>